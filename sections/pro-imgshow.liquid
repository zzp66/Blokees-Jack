<style>
  .shane-pro-imgshow {
    width: 100%;
    background-color: #f4f0e6;
    color: #ff5f00;
    margin-top: -6vw;
  }
  .shane-pro-imgshow .text {
    position: relative;
    width: 100%;
    height: 21vw;
  }
  #Layer_3,
  #Layer_4 {
    position: absolute;
    left: 50%;
    top: -3vw;
    margin-left: -4vw;
    width: 8vw;
    height: 28vw;
  }
  .svg-line {
    stroke-width: 1px;
    stroke: #ff5f00;
    fill: none;
    stroke-dasharray: 1400;
    stroke-dashoffset: 1400;
    animation: svgmove 2s infinite;
  }
  .svg-line2 {
    stroke-width: 1px;
    stroke: #ff5f00;
    fill: none;
    stroke-dasharray: 1000;
    stroke-dashoffset: 1000;
    animation: svgmove 2s infinite;
  }
  @keyframes svgmove {
    to {
      stroke-dashoffset: 0;
    }
  }
  .shane-pro-imgshow .text h2 {
    width: 46vw;
    text-align: center;
    background-color: #f4f0e6;
    font-size: 2.8vw;
    position: absolute;
    left: 27vw;
    top: 6vw;
    line-height: 3vw;
  }
  .shane-pro-imgshow .text > div {
    width: 46vw;
    left: 27vw;
    bottom: 1vw;
    position: absolute;
    text-align: center;
    font-size: 1.2vw;
  }
  .imgshowSwiper {
    overflow: hidden;
    position: relative;
  }
  .imgshowSwiper .swiper-slide img {
    width: 100%;
    transition: 300ms;
  }
  .imgshowSwiper .swiper-slide-prev {
    text-align: right;
  }
  .imgshowSwiper .swiper-slide-prev img,
  .imgshowSwiper .swiper-slide-next img {
    width: 80%;
  }
  .imgshowSwiper-next,
  .imgshowSwiper-prev {
    width: 3vw;
    height: 3vw;
    border-radius: 50%;
    border: 1px solid #ff5f00;
    position: absolute;
    bottom: 0;
    z-index: 9;
    display: flex;
    justify-content: center;
    align-items: center;
  }
  .imgshowSwiper-next img,
  .imgshowSwiper-prev img {
    width: 40%;
  }
  .imgshowSwiper-next {
    left: 20vw;
  }
  .imgshowSwiper-next .img-np {
    transform: scaleX(-1);
  }
  .imgshowSwiper-prev {
    right: 20vw;
  }
  .imgshowSwiper-prev .img-np-hover {
    transform: scaleX(-1);
  }
  .imgshowSwiper .img-np-hover {
    display: none;
  }
  .imgshowSwiper-next:hover,
  .imgshowSwiper-prev:hover {
    background-color: #ff5f00;
  }
  .imgshowSwiper-next:hover .img-np,
  .imgshowSwiper-prev:hover .img-np {
    display: none;
  }
  .imgshowSwiper-next:hover .img-np-hover,
  .imgshowSwiper-prev:hover .img-np-hover {
    display: block;
  }
  .imgshow-fd1 {
    width: 2vw;
    position: absolute;
    top: 4vw;
    left: 35vw;
    animation: moveimgshowfd1 1s ease-in-out infinite;
  }
  .imgshow-fd2 {
    width: 2vw;
    position: absolute;
    top: 12vw;
    left: 65vw;
    animation: moveimgshowfd2 1s ease-in-out infinite;
  }
  @keyframes moveimgshowfd1 {
    0% {
      top: 4vw;
    }
    50% {
      top: 3.5vw;
    }
    100% {
      top: 4vw;
    }
  }
  @keyframes moveimgshowfd2 {
    0% {
      top: 12vw;
    }
    50% {
      top: 11.5vw;
    }
    100% {
      top: 12vw;
    }
  }
  @media (max-width: 768px) {
    .shane-pro-imgshow {
      margin-top: -16vw;
    }
    .shane-pro-imgshow .text {
      height: 63vw;
    }
    #Layer_3,
    #Layer_4 {
      position: absolute;
      left: 50%;
      top: -3vw;
      margin-left: -15vw;
      width: 30vw;
      height: 70vw;
    }

    .shane-pro-imgshow .text h2 {
      width: 90vw;
      font-size: 6vw;
      left: 5vw;
      top: 20vw;
      line-height: 6.6vw;
    }
    .shane-pro-imgshow .text > div {
      width: 60vw;
      left: 20vw;
      bottom: 2vw;
      font-size: 4vw;
      line-height: 4.6vw;
    }
    .imgshowSwiper-next,
    .imgshowSwiper-prev {
      width: 7vw;
      height: 7vw;
    }
    .imgshowSwiper-next {
      left: 5vw;
    }
    .imgshowSwiper-prev {
      right: 5vw;
    }
    .imgshow-fd1 {
      width: 4vw;
      top: 14vw;
      left: 28vw;
      animation: moveimgshowfd1 1s ease-in-out infinite;
    }
    .imgshow-fd2 {
      width: 4vw;
      top: 39vw;
      left: 70vw;
      animation: moveimgshowfd2 1s ease-in-out infinite;
    }
    @keyframes moveimgshowfd1 {
      0% {
        top: 14vw;
      }
      50% {
        top: 13vw;
      }
      100% {
        top: 14vw;
      }
    }
    @keyframes moveimgshowfd2 {
      0% {
        top: 39vw;
      }
      50% {
        top: 40vw;
      }
      100% {
        top: 39vw;
      }
    }
  }
</style>
<div class="text">
  <svg id="Layer_3" version="1.1" xmlns="http://www.w3.org/2000/svg" style="transform: rotate(-60deg);">
    <ellipse ry="13.5vw" rx="3.8vw" cy="50%" cx="50%" class="svg-line pc_show" />
    <ellipse ry="35vw" rx="9vw" cy="50%" cx="50%" class="svg-line mobile_show" />
  </svg>
  <svg id="Layer_4" version="1.1" xmlns="http://www.w3.org/2000/svg" style="transform: rotate(60deg);">
    <ellipse ry="10vw" rx="2vw" cy="50%" cx="50%" class="svg-line2 pc_show" />
    <ellipse ry="26vw" rx="7vw" cy="50%" cx="50%" class="svg-line2 mobile_show" />
  </svg>
  <h2>{{ section.settings.heading }}</h2>
  <div>{{ section.settings.context }}</div>
  <img src="https://cdn.shopify.com/s/files/1/0679/6538/6990/files/star-icon02.png?v=1705974991" class="imgshow-fd1">
  <img src="https://cdn.shopify.com/s/files/1/0679/6538/6990/files/star-icon02.png?v=1705974991" class="imgshow-fd2">
</div>
<div class="swiper-container imgshowSwiper">
  <div class="swiper-wrapper">
    {%- for block in section.blocks -%}
      <div class="swiper-slide">
        {% comment %}
          <img
            src="{{ block.settings.block_image | image_url: width: 941,height:529 }}"
            loading="lazy"
            alt="{{ block.settings.block_image.alt }}"
          >
        {% endcomment %}
        <picture>
          <source
            media="(max-width: 800px)"
            srcset="{{ block.settings.block_image | image_url: width: 500,height:280 }}"
          >
          <img
            src="{{ block.settings.block_image | image_url: width: 941 }}"
            alt="{{ block.settings.block_image.alt }}"
          >
        </picture>
      </div>
    {% endfor %}
  </div>
  <!-- Add Pagination -->
  <div class="imgshowSwiper-next">
    <img src="https://cdn.shopify.com/s/files/1/0679/6538/6990/files/icon-right.svg?v=1705634939" class="img-np">
    <img src="https://cdn.shopify.com/s/files/1/0679/6538/6990/files/icon-left.svg?v=1705634939" class="img-np-hover">
  </div>
  <div class="imgshowSwiper-prev">
    <img src="https://cdn.shopify.com/s/files/1/0679/6538/6990/files/icon-right.svg?v=1705634939" class="img-np">
    <img src="https://cdn.shopify.com/s/files/1/0679/6538/6990/files/icon-left.svg?v=1705634939" class="img-np-hover">
  </div>
</div>
{% schema %}
{
  "name": "Pro imgshow",
  "class": "shane-pro-imgshow",
  "settings": [
    {
      "type": "text",
      "id": "heading",
      "label": "Heading"
    },
    {
      "type": "textarea",
      "id": "context",
      "label": "Text"
    }
  ],
  "blocks": [
    {
      "type": "item",
      "name": "item",
      "settings": [
        {
          "type": "image_picker",
          "id": "block_image",
          "label": "Image"
        }
      ]
    }
  ],
  "presets": [
    {
      "name": "Pro imgshow"
    }
  ]
}
{% endschema %}
<script>
  var imgshowSwiper = new Swiper('.imgshowSwiper', {
    slidesPerView: 3,
    spaceBetween: 15,
    // 设置centeredSlides会导致active元素的加载速度慢于prev元素的加载速度
    // centeredSlides: true,
    loop: true,
    navigation: {
      nextEl: '.imgshowSwiper-prev',
      prevEl: '.imgshowSwiper-next',
    },
  });
  //   以下两个判断不可以合并，否则swiper图片加载速度会降低
  if (imgshowSwiper && window.innerWidth > 768) {
    setTimeout(() => {
      imgshowSwiper.params.centeredSlides = true;
      imgshowSwiper.slideTo(1, 0);
      imgshowSwiper.params.slidesPerView = 2;
      imgshowSwiper.update();
    }, 1000);
  }
  if (imgshowSwiper && window.innerWidth <= 768) {
    setTimeout(() => {
      imgshowSwiper.params.centeredSlides = true;
      imgshowSwiper.slideTo(1, 0);
      imgshowSwiper.params.slidesPerView = 1.4;
      imgshowSwiper.update();
    }, 1000);
  }
</script>
